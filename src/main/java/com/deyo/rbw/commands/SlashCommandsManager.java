/*
 * Recoded by deyo (hard coded by kdc) it was shit so deyo recoded it to make it better 
 */
package com.deyo.rbw.commands;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import net.dv8tion.jda.api.JDA;
import net.dv8tion.jda.api.interactions.commands.OptionType;
import net.dv8tion.jda.api.interactions.commands.build.Commands;
import net.dv8tion.jda.api.interactions.commands.build.OptionData;
import net.dv8tion.jda.api.interactions.commands.build.SlashCommandData;

public class SlashCommandsManager {
    public static HashMap<String, List<String>> commandOptions = new HashMap();
    public static SlashCommandData[] cmds;

    public static SlashCommandData builder(String name, String description) {
        return Commands.slash(name, description).setGuildOnly(true);
    }

    public static void load() {
        for (SlashCommandData cmd : cmds) {
            ArrayList<String> options = new ArrayList<String>();
            for (OptionData option : cmd.getOptions()) {
                options.add(option.getName());
            }
            commandOptions.put(cmd.getName(), options);
        }
    }

    public static ArrayList<SlashCommandData> getSlashCommands() {
        cmds = new SlashCommandData[]{SlashCommandsManager.builder("help", "Show help about the bot commands"), SlashCommandsManager.builder("reloadconfig", "Reload the bot's config"), SlashCommandsManager.builder("theme", "Theme system").addOptions(new OptionData(OptionType.STRING, "command", "The command to execute", true), new OptionData(OptionType.STRING, "arg2", "Second argument to execute", false), new OptionData(OptionType.STRING, "arg3", "Third argument to execute", false)), SlashCommandsManager.builder("unfreeze", "Unfreeze a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "Member to unfreeze", true)), SlashCommandsManager.builder("freeze", "Freeze a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "Member to freeze", true)), SlashCommandsManager.builder("ss", "Screenshare request a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to SS-req", true), new OptionData(OptionType.ATTACHMENT, "screenshot", "The screenshot of \"don't log\"", true), new OptionData(OptionType.STRING, "reason", "The reason of the request", true)), SlashCommandsManager.builder("wipe", "Wipe a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to wipe", true)), SlashCommandsManager.builder("win", "Give a win to a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to give wins", true), new OptionData(OptionType.STRING, "times", "How many wins?", false)), SlashCommandsManager.builder("undogame", "Undo a game").addOptions(new OptionData(OptionType.STRING, "gamenumber", "Game number of the game", false)), SlashCommandsManager.builder("submit", "Submit a game with a screenshot of the win").addOptions(new OptionData(OptionType.ATTACHMENT, "screenshot", "The screenshot of the game", true)), SlashCommandsManager.builder("score", "Score the game").addOptions(new OptionData(OptionType.STRING, "gamenumber", "The number of the game", true), new OptionData(OptionType.NUMBER, "winningteam", "The winning team of the game (1, 2)", true).setMinValue(1L).setMaxValue(2L), new OptionData(OptionType.STRING, "mvp", "The mvp of the game", true)), SlashCommandsManager.builder("mvp", "Give a mvp to a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to give a mvp", true)), SlashCommandsManager.builder("modify", "Modify a player's stats").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to modify", true), new OptionData(OptionType.STRING, "stat", "The stat to modify", true), new OptionData(OptionType.NUMBER, "amount", "The amount, add - or + to add or remove.", true)), SlashCommandsManager.builder("lose", "Give a lose to a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to give a lose", true), new OptionData(OptionType.STRING, "times", "How many losses?", false)), SlashCommandsManager.builder("ranks", "Show the server's ranks"), SlashCommandsManager.builder("modifyrank", "Modify a rank's proprieties").addOptions(new OptionData(OptionType.ROLE, "rank", "Rank to modify", true), new OptionData(OptionType.STRING, "type", "Type to modify ex. mvp, win, lose, decay, bed, startingelo, endingelo", true), new OptionData(OptionType.NUMBER, "amount", "Amount to modify the rank to", true)), SlashCommandsManager.builder("delrank", "Delete a rank").addOptions(new OptionData(OptionType.ROLE, "rank", "Rank to modify", true)), SlashCommandsManager.builder("addrank", "Add a rank").addOptions(new OptionData(OptionType.ROLE, "rank", "Rank to add", true), new OptionData(OptionType.NUMBER, "startingelo", "The rank's starting elo", true), new OptionData(OptionType.NUMBER, "endingelo", "The rank's ending elo", true), new OptionData(OptionType.NUMBER, "winelo", "The rank's win elo", true), new OptionData(OptionType.NUMBER, "loseelo", "The rank's lose elo", true), new OptionData(OptionType.NUMBER, "mvpelo", "The rank's mvp elo", true), new OptionData(OptionType.NUMBER, "bedelo", "The rank's bed elo", true)), SlashCommandsManager.builder("queues", "Show the list of queues"), SlashCommandsManager.builder("delqueue", "Delete a queue").addOptions(new OptionData(OptionType.CHANNEL, "queuechannel", "The queue channel", true)), SlashCommandsManager.builder("addqueue", "Add a queue").addOptions(new OptionData(OptionType.CHANNEL, "queuechannel", "The queue channel", true), new OptionData(OptionType.NUMBER, "playersinteam", "The players in team", true), new OptionData(OptionType.STRING, "pickingmode", "The pickingmode", true).addChoice("captains", "captains").addChoice("automatic", "automatic"), new OptionData(OptionType.BOOLEAN, "causal", "Is the queue casual?", true)), SlashCommandsManager.builder("stats", "Shows your stats").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to look stats", false)), SlashCommandsManager.builder("rename", "Rename yourself").addOptions(new OptionData(OptionType.STRING, "ign", "Your ingamename", true)), SlashCommandsManager.builder("register", "Register yourself").addOptions(new OptionData(OptionType.STRING, "ign", "Your ingamename", true)), SlashCommandsManager.builder("prefixtoggle", "Turn prefix toggle on/off"), SlashCommandsManager.builder("party", "Party System").addOptions(new OptionData(OptionType.STRING, "command", "The command you want to use", true), new OptionData(OptionType.STRING, "arg2", "The second argument"), new OptionData(OptionType.STRING, "arg3", "The third argument")), SlashCommandsManager.builder("nick", "Change your nick").addOptions(new OptionData(OptionType.STRING, "nick", "Your new nick (don't select this if you want to remove it)")), SlashCommandsManager.builder("leaderboard", "Leaderboard").addOptions(new OptionData(OptionType.STRING, "stat", "Statistic to see the leaderboard"), new OptionData(OptionType.NUMBER, "page", "The page of the leaderboard")), SlashCommandsManager.builder("forcerename", "Force rename a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to forcerename", true), new OptionData(OptionType.STRING, "ign", "The ingame name of the player", true)), SlashCommandsManager.builder("forceregister", "Force register a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to forceregister", true), new OptionData(OptionType.STRING, "ign", "The ingame name of the player", true)), SlashCommandsManager.builder("fix", "Reload your nickname").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to fix")), SlashCommandsManager.builder("maps", "Shows the server's maps"), SlashCommandsManager.builder("wipegames", "Wipe all games"), SlashCommandsManager.builder("void", "Submit a void request"), SlashCommandsManager.builder("queuestats", "Shows queue's stats"), SlashCommandsManager.builder("queue", "Shows players in this q"), SlashCommandsManager.builder("ssclose", "Closes the ss channel"), SlashCommandsManager.builder("removenick", "Remove your nickname"), SlashCommandsManager.builder("pick", "Pick a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to pick", true)), SlashCommandsManager.builder("games", "Shows your last 15 games").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to see games")), SlashCommandsManager.builder("gameinfo", "Shows game info of a game").addOptions(new OptionData(OptionType.STRING, "gamenumber", "The game number", true)), SlashCommandsManager.builder("cleargame", "Close a game channel"), SlashCommandsManager.builder("call", "Add a player to your vc").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to call", true)), SlashCommandsManager.builder("unstrike", "Unstrike a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to unstrike", true)), SlashCommandsManager.builder("unban", "Unban a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to unban", true)), SlashCommandsManager.builder("strike", "Strike a player").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to strike", true), new OptionData(OptionType.STRING, "reason", "The reason for the strike")), SlashCommandsManager.builder("bans", "Bans list"), SlashCommandsManager.builder("ban", "Ban a player from queueing").addOptions(new OptionData(OptionType.MENTIONABLE, "member", "The member to ban", true), new OptionData(OptionType.STRING, "time", "The length of the ban", true), new OptionData(OptionType.STRING, "reason", "The reason of the ban", true)), SlashCommandsManager.builder("claimelo", "Claims starting season ELO")};
        return new ArrayList<SlashCommandData>(List.of(cmds));
    }

    public static void registerCMDs(JDA jda) {
        jda.updateCommands().addCommands(SlashCommandsManager.getSlashCommands()).queue();
    }
}

